# Тестовое задание AirAstana 

## Цель
Разработать Web API по получению данных о статусе рейсов 

## Описание
Необходимо разработать Web API, с помощью которого можно контролировать статусы рейсов
авиакомпании. Клиенты (пользователи или другие приложения) могут авторизоваться в данном приложении
и использовать имеющийся функционал в рамках их уровня доступа. Одни могут только считывать данные,
другие, помимо считывания, могут и редактировать их. Приложение должно предоставлять доступ к своим
методам через API. Данные по рейсам должны храниться в базе данных

Документацию по приложению необходимо вести в Swagger. Любые изменения в БД и исключения
логируются в файл лога с указанием пользователя и времени изменения.
Приложение должно считывать данные из кэша (не из БД). Добавление и редактирование – напрямую в БД.
При изменении данных в БД кэш тоже обновляется до актуального состояния


## Что сделано
- [x] JWT-авторизация; разграничение доступа по ролям (User, Moderator)
- [x] EF Core (PostgreSQL), Code-First
- [x] Документация в Swagger
- [x] Логирование в файл, через Serilog
- [x] Считывание данных из кэша. Добавление и редактирование - в БД
- [x] Валидация входных параметров FluentValidation
- [x] DDD
      
## Технологии
- .NET 6, ASP.NET Core Web API
- EF Core 6 + PostgreSQL
- Redis
- Serilog
- Swagger/OpenAPI
- FluentValidation

## Роли и демо-пользователи
В БД предзагружены роли:
- Moderator
- User

Демо-пользователи:
| Роль | Логин | Пароль |
|---|---|---|
| Moderator | moderator1 | QwertyModerator123 |
| User | user1 | QwertyUserOne123@123 |
| User | user2 | QwertyUserTwo123@123 |

##Старт приложения
1) Для подтягивания миграций запустить команду из корневой папки (AirAstana)
dotnet ef database update --project src/Infrastructure --startup-project src/Api --verbose

2) Поднять образ Redis
docker compose up -d  
